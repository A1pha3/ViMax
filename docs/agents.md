# 智能体 (Agents) 详解

ViMax 采用多智能体架构，每个智能体都专注于特定的任务。以下是系统中主要智能体的功能介绍。

## 叙事与剧本类

### Screenwriter (编剧)
负责根据用户的创意或大纲编写详细的剧本。它能够理解戏剧结构，创作对话，并描述场景动作。

### ScriptEnhancer (剧本润色师)
对生成的剧本进行优化和润色，使其更符合视觉叙事的要求，或者调整剧本的风格（如更幽默、更黑暗）。

### ScriptPlanner (剧本规划师)
在长视频生成中，负责规划整体的剧情走向和结构，确保故事的连贯性。

### NovelCompressor (小说压缩师)
专门用于 Novel2Video 流水线。它将长篇小说文本进行智能压缩和摘要，保留核心情节和关键细节，以便后续处理。

## 视觉设计类

### StoryboardArtist (分镜师)
将文字剧本转化为视觉分镜。它决定了每个镜头的构图、角度（如特写、远景）、光影和氛围。

### CameraImageGenerator (摄影师/图像生成)
根据分镜描述和参考图，调用底层图像生成工具生成高质量的静态图像。它负责处理复杂的视觉提示词。

### BestImageSelector (选片导演)
为了保证质量和一致性，系统通常会为同一个分镜生成多张候选图像。BestImageSelector 利用多模态大模型（MLLM）从候选图中挑选出质量最高、且与前后文最一致的一张。

## 信息提取与管理类

### CharacterExtractor (角色分析师)
从剧本或小说中提取角色的详细信息，包括外貌特征（发色、服装）、性格特点和身份背景。

### CharacterPortraitsGenerator (造型师)
基于提取的角色特征，生成角色的标准画像（Character Portrait）。这些画像将作为后续视频生成的参考（Reference），以保持角色一致性。

### SceneExtractor (场景分析师)
将长文本或事件流拆解为具体的场景（Scene），明确场景的时间、地点和参与人物。

### EventExtractor (情节分析师)
从长篇小说中提取关键事件（Event），构建故事的骨架。

### GlobalInformationPlanner (统筹/场记)
负责维护全局的一致性信息。它追踪角色在不同场景中的状态变化（如是否受伤、是否换了衣服），并确保环境细节在不同镜头间保持一致。

### ReferenceImageSelector (资料管理员)
为当前生成的镜头选择最合适的参考图像。它不仅使用角色的标准画像，还会根据剧情需要检索之前的关键帧，以维持视觉连贯性。
